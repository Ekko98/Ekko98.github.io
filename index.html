<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <title>Ekko-Ali</title>
    <meta name="description" content="第一次尝试，慢慢改进">
<meta name="keywords" content="blog,stkevintan,IT,Web Front End,Kevin Tan,kevinsfork">
<meta property="og:type" content="website">
<meta property="og:title" content="Ekko&#39;s Blog">
<meta property="og:url" content="https://ekko98.github.io/index.html">
<meta property="og:site_name" content="Ekko&#39;s Blog">
<meta property="og:description" content="第一次尝试，慢慢改进">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ekko&#39;s Blog">
<meta name="twitter:description" content="第一次尝试，慢慢改进">
    
        <link rel="alternate" href="true" title="Ekko&#39;s Blog" type="application/atom+xml">
    
    
        <link rel="icon" href="./favicon.ico">
    
    <link rel="stylesheet" href="/css/concise.css">
    <script src="/js/concise.js"></script>
    <script>
        (function(){
            var useragent=navigator.userAgent;
            console.log(navigator,useragent);
            var isM;
            if(useragent.indexOf('iPhone')!=-1){
                isM=true;
            }else if(useragent.indexOf('Android ')!=-1){
                isM=true;
            }else if(useragent.indexOf('iPad')!=-1){
                isM=true;
            }else{
                isM=false;
            }
            if(isM){
                document.documentElement.style.fontSize=document.documentElement.clientWidth/375*100+'px';
                window.onresize=function(){
                    document.documentElement.style.fontSize=document.documentElement.clientWidth/375*100+'px';
                };
            }
        })();
    </script>
    
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    
    <script src="/js/script.js"></script>
</head>
<body>
<input type="checkbox" id="left-information">
<div id="wrapper">
    <div id="bgg"></div>
    <header id="header">
    <nav id="nav" class="clearfix">
        <label for="left-information"></label>
        <ul class='nav-left'>
            <li><a href="/">conci</a></li>
        </ul>
        <input type="checkbox" id="header-right-nav">
        <ul class="clearfix nav-right">
            
            <li><a href="/">Home</a></li>
            
            <li><a href="/archives">Archives</a></li>
            
            <li><a href="/tags">tags</a></li>
            
        </ul>
        <label for="header-right-nav"><i></i></label>
    </nav>
</header>
    <article id="logo">
   <br>
   <br>
   
</article>
    <div id="main" class="clearfix">
        <section id="main-left" class="left">
            
    
        
            <article class="post">
    <h3><a href="/2018/05/15/hello-hexo/">hello,hexo</a></h3>
    <p>
        
            <span class="visitors">visitors
                <span id="/2018/05/15/hello-hexo/" class="leancloud_visitors" data-flag-title="hello,hexo">
                    <span class="leancloud-visitors-count">0</span>
                </span>
            </span>&nbsp;&nbsp;•&nbsp;&nbsp;
        
        <span class="tag">
                    
                </span>&nbsp;&nbsp;•&nbsp;&nbsp;
        <span class="date">2018,05,15</span>
    </p>
    <p></p>
    
        
        <div class="page-content">...</div>
    
    <div class="post-readmore">
        <a href="/2018/05/15/hello-hexo/">Read More</a>
    </div>
</article>
        
            <article class="post">
    <h3><a href="/2018/05/15/hello-world/">Hello World</a></h3>
    <p>
        
            <span class="visitors">visitors
                <span id="/2018/05/15/hello-world/" class="leancloud_visitors" data-flag-title="Hello World">
                    <span class="leancloud-visitors-count">0</span>
                </span>
            </span>&nbsp;&nbsp;•&nbsp;&nbsp;
        
        <span class="tag">
                    
                </span>&nbsp;&nbsp;•&nbsp;&nbsp;
        <span class="date">2018,05,15</span>
    </p>
    <p></p>
    
        
        <div class="page-content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.Quick ...</div>
    
    <div class="post-readmore">
        <a href="/2018/05/15/hello-world/">Read More</a>
    </div>
</article>
        
    


        </section>
        <section id="main-right" class="right">
            <div class="my">
    <div class="my-information">
        <div class="my-img">
            <img src="http://oss.tan8.com/jtpnew/23/54623/jtpnew20160902105713_big.jpg?v=1484743452" rel="图片">
            <a href="/"></a>
        </div>
        <span>Ekko</span>
        <p>Time and Space change Anything</p>
    </div>
    <p class="my-social">
        
            <a href="https://github.com/Ekko98" class="my-social-me1">github</a>
        
            <a href="http://weibo.com/ekko98" class="my-social-me3">weibo</a>
        
            <a href="/" class="my-social-me4">知乎</a>
        
    </p>
    <div class="my-post">
        <a href="/archives">
            <strong>2</strong><br>
            <span>posts</span>
        </a>
        <a href="/categories">
            <strong>0</strong><br>
            <span>categories</span>
        </a>
        <a href="/tags">
            <strong>0</strong><br>
            <span>tags</span>
        </a>
    </div>
    <div class="search-rss">
        <div class="my-search">
            <a href="javascript:void(0)" id ='my-search-a' class="popup-trigger">search</a>
        </div>
        
            <div class="my-rss">
                <a href="/atom.xml">rss</a>
            </div>
        
    </div>
    <div class="my-links">
        <ul class="clearfix">
            
        </ul>
    </div>
    <div class="hot-page">
        
    </div>
</div>
        </section>
    </div>
    <footer id="footer">
    <p>© 2018  ekko | <iframe src="https://ghbtns.com/github-btn.html?user=Ekko98&repo=Ekko98.github.io&type=star&count=true" >
        </iframe><br/>
        From concise theme, this world is mine.  | Ekko'blog | Fork me on Github
        
    </p>
</footer>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
</div>
<label for="left-information"></label>



<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("GIro8Qd31eQHaDFeUnvpSDaP-gzGzoHsz", "ozedpz4nGJSoFS5nR0kLUrXV");</script>
<script>
    function showTime(test) {
        var query = new AV.Query(test);
        var entries = [];
        var $visitors = $(".leancloud_visitors");

        $visitors.each(function () {
            entries.push( $(this).attr("id").trim() );
        });

        query.containedIn('url', entries);
        query.find()
            .done(function (results) {
                var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

                if (results.length === 0) {
                    $visitors.find(COUNT_CONTAINER_REF).text(0);
                    return;
                }

                for (var i = 0; i < results.length; i++) {
                    var item = results[i];
                    var url = item.get('url');
                    var time = item.get('time');
                    var element = document.getElementById(url);

                    $(element).find(COUNT_CONTAINER_REF).text(time);
                }
            })
            .fail(function (object, error) {
                console.log("Error: " + error.code + " " + error.message);
            });
    }

    function addCount(test) {
        var $visitors = $(".leancloud_visitors");
        var url = $visitors.attr('id').trim();
        var title = $visitors.attr('data-flag-title').trim();
        var query = new AV.Query(test);

        query.equalTo("url", url);
        query.find({
            success: function(results) {
                if (results.length > 0) {
                    var counter = results[0];
                    counter.fetchWhenSave(true);
                    counter.increment("time");
                    counter.save(null, {
                        success: function(counter) {
                            var $element = $(document.getElementById(url));
                            $element.find('.leancloud-visitors-count').text(counter.get('time'));
                        },
                        error: function(counter, error) {
                            console.log('Failed to save Visitor num, with error message: ' + error.message);
                        }
                    });
                } else {
                    var newcounter = new test();
                    /* Set ACL */
                    var acl = new AV.ACL();
                    acl.setPublicReadAccess(true);
                    acl.setPublicWriteAccess(true);
                    newcounter.setACL(acl);
                    /* End Set ACL */
                    newcounter.set("title", title);
                    newcounter.set("url", url);
                    newcounter.set("time", 1);
                    newcounter.save(null, {
                        success: function(newcounter) {
                            var $element = $(document.getElementById(url));
                            $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
                        },
                        error: function(newcounter, error) {
                            console.log('Failed to create');
                        }
                    });
                }
            },
            error: function(error) {
                console.log('Error:' + error.code + " " + error.message);
            }
        });
    }

    $(function() {
        var test = AV.Object.extend("ccp");
        if ($('.leancloud_visitors').length == 1) {
            addCount(test);
        } else if ($('.leancloud_visitors').length > 1) {
            showTime(test);
        }
    });
</script>



</body>
</html>